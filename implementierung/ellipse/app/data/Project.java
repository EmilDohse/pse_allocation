// --------------------------------------------------------
// Code generated by Papyrus Java
// --------------------------------------------------------

package data;

import java.util.ArrayList;
import java.util.List;

import javax.persistence.Entity;
import javax.persistence.ManyToMany;
import javax.persistence.ManyToOne;
import javax.validation.constraints.Min;
import javax.validation.constraints.NotNull;
import javax.validation.constraints.Size;

import exception.DataException;

/************************************************************/
/**
 * Klasse, die ein Project repräsentiert
 */
@Entity
public class Project extends ElipseModel /* implements Comparable<Project> */ {

    /**
     * Der Name des Projektes.
     */
    @NotNull
    @Size(min = 1)
    private String        name;
    /**
     * Die minimale Anzahl der Teilnehmer einer Gruppe für dieses Projekt.
     */
    @Min(1)
    private int           minTeamSize;
    /**
     * Die maximale Anzahl der Teilnehmer einer Gruppe für dieses Projekt.
     */
    @Min(1)
    private int           maxTeamSize;
    /**
     * Anzahl der Teams die zu diesem Projekt zugeteilt werden.
     */
    @Min(1)
    private int           numberOfTeams;
    /**
     * Die Projektbeschreibung.
     */
    @NotNull
    @Size(min = 1)
    private String        projectInfo;
    /**
     * URL zu der Website des Projektes.
     */
    @NotNull
    @Size(min = 1)
    private String        projectURL;
    /**
     * Das Institut, welches das Projekt anbietet.
     */
    @NotNull
    @Size(min = 1)
    private String        institute;
    /**
     * Betreuer des Projekts
     */
    @ManyToMany
    @NotNull
    private List<Adviser> advisers;

    /**
     * Danke Ebean.
     */
    @ManyToOne
    @NotNull
    private Semester      semester;

    public Project() {
        this("default_name", "default_info", "default_institut", "default_url");
        // TODO hier die default werte über konstanten?
    }

    public Project(String name, String projectInfo, String institut, String url) {
        super();
        this.name = name;
        this.projectInfo = projectInfo;
        this.institute = institut;
        this.projectURL = url;
        advisers = new ArrayList<>();
    }

    public Project(String name, Adviser adviser) {
        this();
        this.name = name;
        advisers.add(adviser);
    }

    /**
     * Setter für das Semester. Sollte nicht manuell benutzt werden. Zum Setzten
     * reicht es, das Projekt uber Semester.addProject() oder
     * Semester.setProjects hinzuzufügen.
     * 
     * @param semester
     *            Das Semester, zu dem diese Projekt gehört.
     */
    public void setSemester(Semester semester) {

        this.semester = semester;
    }

    /**
     * Getter für die Anzahl der Teams.
     * 
     * @return Anzahl der Teams.
     */
    public int getNumberOfTeams() {
        return numberOfTeams;
    }

    /**
     * Setter für die Anzahl der Teams.
     * 
     * @param numberOfTeams
     *            Anzahl der Teams.
     */
    public void setNumberOfTeams(int numberOfTeams) {

        this.numberOfTeams = numberOfTeams;

    }

    /**
     * Getter für die Betreuer des Projekts.
     * 
     * @return Betreuer des Projekts.
     */
    public List<Adviser> getAdvisers() {
        return advisers;
    }

    /**
     * Setter für die Betreuer des Projekts.
     * 
     * @param advisers
     *            Betreuer des Projekts.
     */
    public void setAdvisers(List<Adviser> advisers) {
        this.advisers = advisers;
    }

    /**
     * Fügt dem Projekt einen Betreuer hinzu.
     * 
     * @param adviser
     *            Betreuer der hinzugefügt wird.
     */
    public void addAdviser(Adviser adviser) {
        advisers.add(adviser);
    }

    /**
     * Entfernt einen Betreuer vom Projekt.
     * 
     * @param adviser
     *            Betreuer der entfernt wird.
     */
    public void removeAdviser(Adviser adviser) {
        advisers.remove(adviser);
    }

    /**
     * Getter für den Namen des Projektes.
     * 
     * @return Der Name des Projektes.
     */
    public String getName() {
        return name;
    }

    /**
     * Getter der maximalen Größe für Teams dieses Projektes. -1 entspricht
     * keiner gesetzten Teamgröße.
     * 
     * @return Die maximale Teamgröße.
     */
    public int getMaxTeamSize() {
        return maxTeamSize;
    }

    /**
     * Getter der minimalen Größe für Teams dieses Projektes. -1 entspricht
     * keiner gesetzten Teamgröße.
     * 
     * @return Die minimale Teamgröße.
     */
    public int getMinTeamSize() {
        return minTeamSize;
    }

    /**
     * Getter für die Information über dieses Projektes.
     * 
     * @return Die Information des Projektes.
     */
    public String getProjectInfo() {
        return projectInfo;
    }

    /**
     * Getter für die URL des Projektes.
     * 
     * @return Die URL des Projektes.
     */
    public String getProjectURL() {
        return projectURL;
    }

    /**
     * Setter für den Namen des Projektes.
     * 
     * @param name
     *            Der Name des Projektes.
     */
    public void setName(String name) {
        this.name = name;
    }

    /**
     * Setter der maximalen Größe für Teams dieses Projektes. -1 entspricht
     * keiner gesetzten Teamgröße.
     * 
     * @param maxTeamSize
     *            Die maximale Größe für Teams dieses Projektes.
     */
    public void setMaxTeamSize(int maxTeamSize) {
        // TODO im controller auf größer als minsize

        this.maxTeamSize = maxTeamSize;

    }

    /**
     * Setter der minimalen Größe für Teams dieses Projektes. -1 entspricht
     * keiner gesetzten Teamgröße.
     * 
     * @param minTeamSize
     *            Die minimale Größe für Teams dieses Projektes.
     */
    public void setMinTeamSize(int minTeamSize) {
        this.minTeamSize = minTeamSize;
        // TODO im controller checken ob kleiner maxxx
    }

    /**
     * Setter für die Information über dieses Projektes.
     * 
     * @param projektInfo
     *            Die Information des Projektes.
     */
    public void setProjectInfo(String projectInfo) throws DataException {
        this.projectInfo = projectInfo;
    }

    /**
     * Setter für die URL des Projektes.
     * 
     * @param projectURL
     *            Die URL des Projektes
     */
    public void setProjectURL(String projectURL) throws DataException {
        // TODO Sollen wir sogar mit NetURL auf ne echte Website prüfen?
        // Falls ja, muss der Standardkonstruktor angepasst werden
        this.projectURL = projectURL;
    }

    /**
     * Gibt den Institutsnamen des Institutes zurück, welches das Projekt
     * anbietet.
     * 
     * @return den Namen
     */
    public String getInstitute() {
        return institute;
    }

    /**
     * Setzt den Institutsnamen.
     * 
     * @param institute
     *            der Name des Instituts.
     */
    public void setInstitute(String institute) {
        this.institute = institute;
    }

    /**
     * Diese Methode gibt alle Projekte zurück.
     * 
     * @return Alle Projekte.
     */
    public static List<Project> getProjects() {
        return ElipseModel.getAll(Project.class);
    }

    // /**
    // * Diese Methode gibt die Bewertung eines spezifischen Studenten für
    // dieses
    // * Projekt zurück.
    // *
    // * @param student
    // * Der Student, dessen Bewertung zurückgegeben werdedn soll.
    // * @return Die Bewertung des Studenten.
    // */
    // public int getRating(Student student) {
    // return student.getLearningGroup(getSemester()).getRating(this);
    // } //TODO Kann das weg?

    /**
     * Gibt das Semester zurück, in dem das Projekt angeboten wurde.
     * 
     * @return Semester, in dem das Projekt angeboten wurde.
     */
    public Semester getSemester() {
        return semester;
    }

    // @Override
    // public int compareTo(Project o) {
    // return name.compareTo(o.getName());
    // }

}
