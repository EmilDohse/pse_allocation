%%This is a very basic article template.
%%There is just one section and two subsections.
\documentclass[parskip=full]{scrartcl}
\usepackage{amsfonts}
\usepackage{studarbeit}
\usepackage[binary-units=true]{siunitx}
 \usepackage[autostyle=true,german=quotes]{csquotes}

\begin{document}

\title{Elipse -- Einteilungs Interface für das PSE}
\author{D. Biester, E. Dohse, P. Faller, P. Loth, L. Seufert, S. Kopmann}
\thesistype{Entwurfsdokument}
\zweitgutachter{}
\betreuer{Dipl.-Inform.~Andreas~Zwinkau, M.Sc.~Andreas~Fried}
\coverimage{ElipseLogo.png}

\tableofcontents
\pagebreak



\section{Änderungen zum Pflichtenheft}

\section{Sequenzdiagramme}

\section{Klassendiagramme}

\section{ILP}
Zur berechnung einer Einteilung wird ein ILP verwendet. Hierbei ist das ILP
aufgeteilt in ein Basismodell und Einteilungskriterien. 

Für die Constraints werden im Weiteren für $\wedge$ (logisch AND) und
$\vee$ (logisch OR) die Folgenden Formeln verwendet:

\begin{gather*}
\text{Für } y = x_1 \wedge x_2 \wedge \ldots \wedge x_n: \\
\left(\sum_{k=1}^{N}x_k \right)-ny \le n-1\\
ny - \sum_{k=1}^{N}x_k \le 0\\
\text{Für } y = x_1 \vee x_2 \vee \ldots \vee x_n:\\
ny - \sum_{k=1}^{N}x_k \le n-1\\
\left(\sum_{k=1}^{N}x_k \right) - ny \le 0
\end{gather*}
\subsection{Basismodell}
Das Basismodell besteht aus einer $N \times M$ Matrix $B$ binärer Variablen.
Hierbei ist $N$ die anzahl der Studierenden die die Pflichtvoraussetzungen für das PSE
erfüllt haben. $M$ ist die Anzahl der Teams plus einem Team
der nicht zugeteilten (welches sich in der Zeile $M$ befindet). Der
Matrixeintrag $B(k,j)$ ist 1 wenn der Student $k$ in Team $j$ ist und sonst 0.
Weiterhin gibt es Hilvsvariablen für häufig verwendetes: 
\begin{itemize}
  \item $x_j$ ist eine Hilfsvariable für die Teamgröße des Teams $j$. Sie berechnet
sich durch
\begin{equation*}
x_j = \sum_{k = 1}^{N} B(k,j) \text{
als Constraint}
\end{equation*}
\end{itemize}


Außerdem werden im Basismodell die folgenden Basisconstraints definiert:



 \begin{itemize}
   \item Jeder Student ist in einem Team \begin{equation*}
   \sum_{j = 1}^{M} B(k,j) = 1 \text{ für } k \in \{ 1\ldots N \}
   \end{equation*}
   \item Die Teamgröße ist größergleich der vorgegebenen minimalen Teamgröße
   oder 0. Die Teamgröße ist kleinergleich der vorgegebenen maximalen Teamgröße
   Ausgenommen hiervon ist das Team der nicht zugeteilten. Hierzu wird eine
   Hilvsvariable $y_j$ pro Team $j$ verwendet. Die Constraints lauten:
   \begin{gather*}
    0 \le y_j \le 1\\
     y_j \le x_j\\ 
    x_j \le maxSize_j \cdot y_j \\ 
    x_j \ge minSize_j \cdot y_j \\
    \text{Somit ist } y_j = \begin{cases}
    1 & \text{wenn $minSize_j \le x_j \le maxSize_j \vee x_j = 0$} \\
    0 & \text{sonst} 
    \end{cases}
   \end{gather*}
 \end{itemize}
 
 Es gibt weiterhin einen Optimierungsterm der durch, in der für die Berechnung
 relevanten Konfiguration gegebenen Kriterien erweitert wird. Dieser wird leer
 initialisiert.


\subsection{Kriterien}
Die Kriterien dienen dazu, den im Basismodell enthaltenen Optimierungsterm zu
erweitern. Dabei werden die eingestellten Parameter $p_i$ ($i$ für das
jeweilige Kriterium) als Multiplikatoren für die Boni der Kriterien verwendet.
Diese Boni sind an der \enquote{++ Wertung} normiert. 

\subsubsection{CriterionAllocated}
Das Kriterium sorgt dafür das möglichst viele Studierende Teams zugeteilt
werden. Hierzu wird dem Optimierungsterm für jeden zugeltilten Student ein Bonus
von 10. Für nicht zugeteilte gibt es einen Bonus von 1. \begin{gather*}
\text{Zum Optimierungsterm:}\\
p_i \cdot 10 \cdot \sum_{k = 1}^{N} \sum_{j = 1}^{M-1} B(k,j) \text{ für die
Zugeteilten}
\end{gather*}

\subsubsection{CriterionRating}
Das Kriterium sorgt dafür das die Bewertungen der Studierenden berücksichtigt
werden. Für ein \enquote{++} gibt es einen Bonus von 10, für ein \enquote{+} 8,
für ein \enquote{o} 6, für ein \enquote{-} 4 und für ein \enquote{-{}-} 2. Sei
hierfür $w_{kj}$ die Wertung des Studierenden $k$ für das Projekt zu dem Team
$j$ gehört (für $j = M$ ist $w_{kj} := 0$).
\begin{gather*}
\text{Zum Optimierungsterm:}\\
p_i \cdot \sum_{k=1}^{N}\sum_{j=1}^{M-1}w_{kj} \cdot B(k,j) 
\end{gather*}

\subsubsection{CriterionLearningGroup}
Das Kriterium sorgt dafür das Lerngruppen eher zusammenbleiben. Hierfür gibt es
für jedes Paar Studierender $p:= (a,b)$ mit $a,b \in \{ 1\ldots N\}: a > b$
einer Lerngruppe die zusammenbleiben einen Bonus $LgBonus_l$ von $\frac{10}{pair_l}$ wobei $pair_l$ die Anzahl der Paare der
Lerngruppe $l$ ist.
\begin{gather*}
\text{Als Constraints: }\\
0 \le y_{lpt} \le 1  \\
y_{lpt} = B(a,t) \wedge B(b,t)
%y_{lpt} \le B(k_1,t) + B(k_2,t) -1, \; y_{lpt} \le B(k_2,t), \; y_{lpt} \le
%B(k_2,t) 
\\
y_{lpt} =
\begin{cases}
1 & \text{wenn das Paar $p$ aus
Lerngruppe $l$ im gleichen Team $t$ ist} \\
0 &\text{sonst}
\end{cases}
\\
\text{Zum Optimierungsterm: } \\
p_i \cdot LgBonus_l \cdot y_{lpt} \text{ für alle Paare, Lerngruppen und Teams}
\end{gather*} 

\subsubsection{CriterionRegisteredAgain}
Das Kriterium sorgt dafür das Studierenden die sich schon einmal für einen PSE
Platz beworben haben bevorzugt werden. Hierfür wird dem Optimierungsterm
$p_i \cdot 10 \cdot \sum_{j = 1}^{M-1} B(k,j)$ hinzugefügt, wenn der
Studierende $k$ sich schon einmal um einen Platz beworben hat.
\subsubsection{CriterionPreferredTeamSize}
Das Kriterium sorgt dafür das Teams möglichst die gewünschte Teamgröße haben.
Das Team der nicht zugeteilten ist ausgeschlossen. Seien pro Team $j \in \{1\ldots M-1 \} \; c_j,o_j,z_j$ binäre Variablen.
Dabei sei: 
\begin{gather*}
\text{Als Constraints: }\\
z_j =x_j - preferredTeamSize\\
-maxSize_j \cdot (1-o_j) \le z_j \le maxSize_j \cdot (1-o_j)\\
0.1\cdot(1-o_j) - (maxSize_j + 0.1)\cdot c_j \le z_j \le -0.1\cdot
(1-o_j)+(maxSize_j +0.1)\cdot(1-c_j)\\
\text{Zum Optimierungsterm:} \\
 p_i \cdot 10 \cdot \sum_{j = 1}^{M-1}
o_j
\end{gather*}
\subsubsection{CriterionSameSemester}
Das Kriterium sorgt dafür das Studierende des gleichen Semesters im selben Team
landen.
\subsubsection{CriterionPreferHigherSemester}
Das Kriterium sorgt dafür das Studierende höheren Semesters bevorzugt werden. Hierfür wird dem Optimierungsterm
$p_i \cdot 10 \cdot \sum_{j = 1}^{M-1} B(k,j)$ hinzugefügt, wenn der
Studierende $k$ in einem höheren Semester ist.
\subsubsection{CriterionAdditionalPerformances}
Das Kriterium sorgt dafür Studierende die mehr als die die zur Teilname am PSE
benötigten Teilleistungen bestanden haben bevorzugt werden. Hierfür wird dem Optimierungsterm
$p_i \cdot 10 \cdot \sum_{j = 1}^{M-1} B(k,j)$ hinzugefügt, wenn der Studierende
$k$ mehr als die zur Teilname am PSE benötigten Teilleistungen bestanden hat.
\subsubsection{CriterionNoSingularStudent}
Das Kriterium sorgt dafür das möglichst kein Team aus einer Lerngrupe sowie
einem einzelnen Studierenden besteht.

\end{document}